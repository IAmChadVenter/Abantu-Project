@model Abantu_System.Models.Budget

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<h1><p align="center">Budgets</p></h1>
<h2>Details</h2>

<div>
    <h4>Budget</h4>

    <hr />
    <dl class="dl-horizontal">
        @*<dt>
                @Html.DisplayNameFor(model => model.Event.Name)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Event.Name)
            </dd>*@

        <dt>
            Programme Name
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Programme.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Amount)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Amount)
        </dd>

        <dt>
            Budget Expenses
        </dt>
        <dd>
            <table style="width:50%">
                <tr>
                    <th style="text-align: left; font-size:medium">Name</th>
                    <th style="text-align: left; font-size:medium">Amount</th>
                </tr>
                @foreach (var item in Model.Expenses)
                {

                    <tr>
                        <td style="text-align: left; font-size:small">@Html.DisplayFor(modelItem => item.ExpenseName)</td>
                        <td style="text-align: left; font-size:small">@Html.DisplayFor(modelItem => item.Amount)</td>

                    </tr>
                }

            </table>
        </dd>
        @{
            double A = Model.Expenses.Sum(v => v.Amount);}
        <dt>Total Expenses</dt>
        <dd>R @A</dd>

        <dt>Total Budget Left</dt>
        <dd>R @(Model.Amount - Model.Expenses.Sum(v => v.Amount))</dd>


    </dl>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Budget_ID }) |
    @Html.ActionLink("Back to List", "Index") |
    @Html.ActionLink("Delete", "Delete", new { id = Model.Budget_ID })
</p>